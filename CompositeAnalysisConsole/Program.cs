using CompositeAnalysisCore.Analysis;
using CompositeAnalysisCore.Data;
using CompositeAnalysisCore.Errors;
using System;
using System.Linq;

namespace CompositeAnalysisConsole
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine("Hello World!");

            var pls = new PLS(new FileCurveDataProvider());

            var dta = new double[][]
            {
             //"3.126408577,3.123539925,3.120613813,3.117638588,3.11465764,3.111675024,3.108719826,3.105800629,3.102885485,3.10000062,3.097170115,3.094370604,3.091650009,3.089015245,3.08648777,3.084084749,3.081764936,3.079519272,3.077364683,3.075358152,3.073505402,3.071821928,3.070282698,3.068813562,3.067411661,3.066039324,3.064707518,3.063442945,3.06217885,3.06090045,3.059526205,3.057968378,3.056190729,3.054108858,3.051758528,3.049176216,3.046419859,3.043530703,3.040552855,3.037524462,3.034440994,3.031252146,3.027975082,3.024784803,3.021847725,3.019229174,3.016928673,3.014913321,3.013212919,3.01190567,3.011041641,3.010711432,3.010950804,3.011776686,3.013109207,3.014856339,3.016921997,3.019276857,3.021896124,3.024787903,3.027914286,3.03119874,3.034553528,3.037822723,3.040825605,3.043417692,3.045500994,3.047018766,3.047954559,3.048344851,3.048268557,3.047780752,3.046914101,3.045681,3.044112444,3.042251348,3.04015255,3.037828684,3.035332918,3.032691717,3.029891729,3.026920319,3.023828268,3.020653009,3.017388582,3.014055967,3.010679245,3.007271051,3.003782272,3.000225067,2.996644258,2.993092299,2.989559174,2.986042738,2.982562304,2.979111433,2.975670576,2.972234488,2.968832731,2.965458632".Split(",").Select(x => Convert.ToDouble(x)).ToArray(),
             //"3.180392504,3.176534653,3.17265439,3.168778419,3.164951563,3.161149263,3.157355309,3.153546095,3.149714231,3.145910978,3.142164469,3.138526678,3.135007143,3.131549597,3.128206968,3.124946594,3.121764421,3.118722677,3.115836382,3.113136292,3.110638857,3.108272314,3.105996847,3.103789091,3.101624489,3.099570036,3.09762311,3.095766068,3.093935251,3.092104197,3.090129614,3.087934494,3.085462809,3.082740784,3.079805374,3.076650381,3.073306322,3.069806099,3.066170454,3.062439203,3.058646441,3.054794073,3.050916672,3.04713273,3.043588877,3.040385485,3.037497282,3.034882545,3.032602549,3.030748367,3.029427528,3.02870369,3.028597593,3.029113054,3.030134439,3.031570435,3.033370256,3.035467863,3.037889481,3.040626526,3.043618917,3.046804428,3.050049543,3.053189993,3.05604291,3.05845952,3.060344934,3.06165719,3.062383413,3.062549591,3.062192678,3.061352491,3.06008935,3.058445692,3.056462049,3.054175138,3.051653147,3.048929453,3.046031952,3.042936087,3.039642096,3.036174059,3.0325737,3.028902292,3.025171041,3.021403313,3.017605543,3.013760805,3.009845018,3.005846024,3.001801729,2.997767687,2.993755341,2.989805937,2.985923767,2.982066393,2.978213549,2.974347353,2.970486879,2.966649771".Split(",").Select(x => Convert.ToDouble(x)).ToArray()
             "3.389256716,3.38598752,3.382654905,3.379231215,3.375737429,3.372242212,3.368766069,3.365287781,3.361799002,3.358291626,3.354795456,3.351339579,3.347908735,3.34453392,3.341222763,3.337971926,3.334815025,3.331753969,3.328818083,3.325969934,3.323240042,3.320620537,3.318144083,3.315784693,3.313512087,3.311294556,3.309090376,3.306895971,3.304735899,3.30253315,3.300286055,3.297862291,3.29522419,3.292345047,3.289245605,3.285927057,3.282380342,3.278668404,3.274871826,3.27104497,3.267213583,3.263348341,3.259477377,3.255674124,3.25203824,3.248641014,3.245554209,3.242776632,3.240319967,3.238216162,3.236557722,3.235383272,3.234768629,3.234689474,3.235066414,3.23585701,3.236967087,3.238320589,3.239962339,3.241858244,3.244022369,3.246339083,3.248646498,3.250880003,3.252906799,3.254595041,3.255789518,3.256462812,3.256652832,3.256324053,3.255543947,3.254344225,3.252832174,3.251000643,3.248838425,3.246427536,3.243800879,3.241015434,3.238070726,3.234941244,3.231655121,3.228268862,3.224792242,3.221228838,3.21756053,3.213823318,3.210044861,3.20620513,3.20230031,3.198351622,3.194350004,3.190361023,3.186386108,3.182429552,3.178494453,3.174542427,3.170645475,3.166810274,3.162997007,3.159183264".Split(",").Select(x => Convert.ToDouble(x)).ToArray()
           //"2.745248795,2.742923498,2.740592003,2.738277674,2.735957384,2.733658552,2.731351137,2.729042768,2.726766825,2.724537849,2.722343445,2.72015667,2.717975378,2.715829611,2.713742495,2.711731672,2.709820986,2.70802474,2.706321955,2.704706192,2.703162193,2.70167613,2.700251341,2.698916197,2.697668314,2.696511269,2.695378542,2.694229126,2.693036795,2.691742182,2.690317869,2.688752174,2.687067032,2.685277224,2.683350325,2.681250334,2.678975105,2.676577568,2.674140215,2.671772242,2.669490099,2.667252779,2.664950609,2.66258502,2.660299063,2.658247948,2.656454325,2.654872656,2.653509378,2.652424812,2.651632547,2.651136637,2.65092063,2.651018381,2.651452065,2.652224064,2.653300047,2.654589891,2.656025887,2.65757823,2.659227133,2.660981178,2.662832975,2.664722443,2.666540623,2.668134928,2.669383287,2.670194626,2.670574188,2.67060256,2.670374632,2.669949293,2.669313192,2.668434381,2.667281389,2.665874243,2.664292097,2.662605762,2.660925627,2.659260035,2.657553911,2.655709028,2.653697252,2.651507139,2.6491611,2.646737814,2.644306183,2.641910315,2.639481783,2.6369555,2.6343081,2.631563187,2.628782034,2.626034021,2.623396158,2.620867252,2.618370056,2.615789413,2.613117218,2.610419273".Split(",").Select(x => Convert.ToDouble(x)).ToArray()
            };

            var result = pls.Run(dta);

            MultipleErrorAnalysis error = new MultipleErrorAnalysis();

            error.CalculateErrors(
                new double[] { 7.031882286, 7.034107685, 7.316557884, 16.95088387 },
                new double[] { 6.8269561732394255, 5.7819397063775728, 7.2713936332173876, 15.8 }
                );
        }
    }
}
